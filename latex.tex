\documentclass[swe,12pt]{skrapport}
\usepackage[utf8]{inputenc}				% input encoding
\usepackage{fixltx2e}					% fixing LaTeX2e bugs
\usepackage[usenames,dvipsnames]{xcolor}% colors
\usepackage{chscite}					% references
\usepackage{minted}						% code highlighting
\usepackage{graphicx}					% include graphics
\usepackage{float}						% custom floats
\usepackage[font=small,format=plain,labelfont=bf,textfont=it]{caption}
										% ^^^^ custom captions
\usepackage[hyperfootnotes=false,colorlinks=true,linkcolor=Red,urlcolor=Magenta]{hyperref}
										% ^^^^ hyperlinks (with colors)
\usepackage[para,perpage,ragged,bottom,stable]{footmisc}
										% ^^^^ footer fixes
\usepackage{hologo}						% logotypes
\usepackage{microtype}
\usepackage{tikz}
\usepackage[swedish]{varioref}

\newcommand\PDF{\textsc{pdf}}							% PDF format
\newcommand\DVI{\textsc{dvi}}							% DVI format
\newcommand\EPS{\textsc{eps}}							% EPS format
\newcommand\UTF{\textsc{utf-8}}							% UTF-8 standard
\newcommand\cli[1]{\texttt{#1}}							% Command-line input
\newcommand\opt[1]{\textlangle\emph{#1}\textrangle}		% CLI option
\newcommand\pack[1]{\textsf{#1}}						% LaTeX package
\newcommand\pdfLaTeX{\hologo{pdfLaTeX}}					% pdfLaTeX logotype
\newcommand\BibTeX{\textsc{Bib}\TeX}					% BibTeX logotype
\newcommand\PGFTikZ{PGF/Ti\emph{k}Z}					% PGF/TikZ logotype
\newcommand\XeTeX{\hologo{XeTeX}}						% XeTeX logotype
\newcommand\eng[1]{(eng.~\emph{#1})}					% english translation
\newcommand\cmd[1]{\texttt{\textbackslash{}#1}}			% LaTeX command
\newcommand\env[1]{\texttt{#1}}							% LaTeX environment
\setcounter{secnumdepth}{1}								% Section depth
\newminted{latex}{frame=single}

\makeatletter % (fold)
% Listings title (urklipp)
\renewcommand{\listingscaption}{Urklipp}
% Environments for examples and code
\newcommand\expl@kod[3][]{\inputminted[frame=single,#1]{latex}{#3.tex}}
\newcommand\expl@fig[3][]{\fbox{\includegraphics[width=0.984\textwidth,clip=true,#2]{#3.pdf}}}
\newcommand\expl@input[3][]{\expl@kod[#1]{}{#3}\vspace{1ex}\expl@fig{#2}{#3}}
\newenvironment{exempel}{\begin{expl@eenv}[tbp]\let\exempel=\expl@input}{\end{expl@eenv}}
\newenvironment{kod}{\begin{expl@kenv}[tbp]\let\exempel=\expl@kod}{\end{expl@kenv}}
\newenvironment{fig}{\begin{figure}[tbp]\let\exempel=\expl@fig}{\end{figure}}
% Floats for examples and code
\newfloat{expl@eenv}{tbp}{lop}\floatname{expl@eenv}{Exempel}
\newfloat{expl@kenv}{tbp}{lop}\floatname{expl@kenv}{Kodbit}
% Displaying one line of code
\newcommand\kodrad[2]{\hspace{1ex}\inputminted[firstline=#1,lastline=#1]{latex}{#2.tex}}
% Redefining sections to break page
\let\section@old=\section
\renewcommand\section{\@ifstar\my@section@star\my@section}
\newcommand\my@section[2][\@empty]{\newpage\ifx\@empty#1\section@old{#2}\else\section@old[#1]{#2}\fi}
\newcommand\my@section@star[2][\@empty]{\newpage\ifx\@empty#1\section@old*{#2}\else\section@old*[#1]{#2}\fi}
\makeatother % (end)

\begin{document}
	\begin{titlepage} % (fold)
		\title{Att \TeX{}a: en praktisk guide}
		\author{Simon Sigurdhsson\thanks{\url{ssimon@student.chalmers.se}}}
		\regarding{Nybörjarguide i \LaTeX}
		\date{första upplagan (2011-??-??)}
		\maketitle
		\begin{abstract}
			En inkomplett guide till att skriva och typsätta \LaTeX-dokument riktad
			till studenter på Chalmers Tekniska Högskola, specifikt programmen
			Teknisk Matematik och Teknisk Fysik.
			Inspiration har tagits från bland annat \citeasnoun{Schultz05} och
			\citeasnoun{Voss10}, men främst från \citeasnoun{Oetiker11}.
		\end{abstract}
	\end{titlepage} % (end)
	
	%% INLEDNING (fold)
	\section*{Inledning}
	\subsection{Vad är \LaTeX?}
	
	\subsection{Varför \LaTeX?}
	Traditionellt så har \LaTeX{} använts för att det gör typsättning av just
	matematik och fysik både enkel och attraktiv. Detta betyder dock inte att
	\LaTeX{} är meningslöst för de som inte behöver denna funktionalitet; långt
	ifrån, till och med. Tillhörande program och paket som till exempel
	\BibTeX{} ger dig som författare frihet att kunna koncentrera dig på att
	skriva, och lämnar över typsättningen och referenshanteringen till
	programmet.
	
	Detta gör att du utan ansträngning kan skapa attraktiva och läsbara
	rapporter, artiklar och böcker.
	
	\subsection{I denna introduktion}
	Den här korta introduktionen kommer att visa dig hur man på ett enkelt
	sätt typsätter dokument med \LaTeX{} i vanliga tillämpningar.
	Dessutom kommer den framåt slutet peka på specifika paket eller
	resurser som kan vara användbara för mer avancerade fall.
	
	Efter att ha läst den här introduktionen bör läsaren kunna skriva
	dokument och rapporter utan problem. Det är dock inte tänkt att denna
	introduktion ska vara en fullgod referens till \LaTeX; för detta
	rekommenderas istället \citeasnoun{Lamport94} och
	\citeasnoun{Mittelbach04}.
	
	Introduktionen innehåller följande delar:
	\begin{description}
		\item[{Del 1, \hyperref[sec:1]{Grundläggande begrepp}}]
		beskriver den grundläggande strukturen hos \LaTeX-dokument och hur det
		språk dokumenten skrivs i fungerar i korta drag. Efter denna del bör
		du veta på ett ungefär hur \LaTeX{} fungerar.
		
		\item[{Del 2, \hyperref[sec:2]{Typsättning med \pdfLaTeX}}]
		beskriver i detalj hur man skriver ett \LaTeX-dokument och typsätter
		detta med \pdfLaTeX, och förklarar några av de viktigaste miljöerna
		och kommandona som används. Efter denna del bör du kunna skriva enkla
		dokument med \LaTeX.
		
		\item[{Del 3, \hyperref[sec:3]{Matematik med \LaTeX{} och \AmS}}]
		beskriver hur man på bästa sätt använder \LaTeX{} tillsammans med
		\AmS-paketen för att typsätta det \LaTeX{} typsätter bäst; matematik,
		och går även kort in på hur man typsätter en del fysik med paketet
		\pack{siunitx}.
		
		\item[{Del 4, \hyperref[sec:4]{Grafik med \LaTeX}}]
		beskriver hur man inkluderar grafik i \LaTeX{} med paketet
		\pack{graphicx}, och visar några korta exempel på hur man kan rita
		direkt i \LaTeX{} med \PGFTikZ{}. Efter den här och föregående del bör
		du kunna skriva fullständiga rapporter med \LaTeX.
		
		\item[{Del 5, \hyperref[sec:5]{Referenser med \BibTeX}}]
		beskriver hur du använder \BibTeX{} för att hålla koll på och använda
		referenser i \LaTeX. Beskriver i korthet paketet \pack{chscite} som
		hjälper dig att typsätta referenser på det sätt Chalmers bibliotek
		rekommenderar. Efter denna delen bör du kunna skriva långa arbeten
		(till exempel kandidatrapporter) i \LaTeX.
		
		\item[{Del 6, \hyperref[sec:6]{Vidare läsning}}]
		tipsar om andra resurser, paket, dokumentklasser och rekommendationer
		som kan vara av nytta när du skriver långa (eller korta) rapporter.
		Kan vara en språngbräda om du vill göra något som inte förklaras i
		resten av introduktionen.
		
		\item[Appendix A, {\hyperref[app:1]{En enkel mall}}]
		innehåller mall du kan basera dina framtida \LaTeX{}-dokument
		på. Den är fullt kommenterad och motiverar de paket som inkluderas och
		kommandon som definieras.
	\end{description}
	
	Det är viktigt att läsa delarna i rätt ordning; varje del bygger på de
	föregående, och de är ju trots allt inte särskilt långa. Se till att
	studera och förstå de exempel som presenteras, och lek gärna lite själv
	om du inte riktigt förstår. Det finns inget bättre sätt att lära sig än
	att vara nyfiken!
	
	\LaTeX{} finns till många plattformar, och finns installerat på Chalmers
	Linuxdatorer. Vill du installera \LaTeX{} på din egen dator finns det
	sannolikt i din pakethanterare (om du använder Linux), alternativt i form
	av \TeX{} Live\footnote{\url{http://www.tug.org/texlive/}}. Använder du
	Mac OS X finns det istället
	Mac\TeX\footnote{\url{http://www.tug.org/mactex/}}, och till Windows finns
	MiK\TeX\footnote{\url{http://miktex.org/}}. Den här introduktionen kan
	tyvärr inte ge fullständiga instruktioner för att installera dessa paket
	(det är inte introduktionens syfte);
	konsultera istället respektive pakets dokumentation.
	
	Under introduktionens gång kommer det refereras till så kallade
	\emph{paket}, som används för att utöka \LaTeX{} med intressanta (och
	ibland nödvändiga) funktioner. Dessa paket kommer oftast att beskrivas
	lite kort, men vill man se fullständig dokumentation för varje paket
	kan man leta på \emph{the Comprehensive \TeX{} Archive Network}
	(CTAN)\footnote{\url{http://www.ctan.org/}}. Det lättaste sättet att hitta
	paket på CTAN är att använda dess
	sökfunktion\footnote{\url{http://www.ctan.org/search/}}.
	%% (end)
	
	%\begin{kod}
	%	\centering 
	%	\exempel[lastline=5]{}{examples/ex-1}
	%	\caption{Ingressen till vårt enkla \LaTeX-dokument}
	%	\label{kod:ingress}
	%\end{kod}
	
	%\kodrad{1}{examples/ex-1}
	
	%\begin{exempel}
	%	\centering
	%	\exempel[]{trim=4cm 17cm 4cm 5.9cm}{examples/ex-1}
	%	\caption{Ett mycket enkelt \LaTeX-dokument}
	%	\label{ex:first}
	%\end{exempel}
	
	%% GRUNDLÄGGANDE BEGREPP (fold)
	\section{Grundläggande begrepp}\label{sec:1}
	
	\subsection{\TeX/\LaTeX}
	
	\subsection{\LaTeX-dokument}
	\subsubsection{Grundläggande struktur}
	\subsubsection{Tomrum}
	\subsubsection{Specialtecken}
	\subsubsection{\LaTeX-kommandon}
	
	\subsection{Från \TeX{} till \PDF}
	\subsubsection{Kompilatorn: \pdfLaTeX}
	\subsubsection{Automatisera med \cli{latexmk}}
	
	\subsection{Filer du kanske stöter på}
	%% (end)
	
	%% TYPSÄTTNING MED PDFLATEX (fold)
	\section{Typsättning med \pdfLaTeX}\label{sec:2}
	Hàn Th\'{ê} Thành
	
	\subsection{Text- och språkstruktur}
	\subsubsection{Textstycket}
	\subsubsection{Avstavning}
	
	\subsection{Rad- och sidbrytningar}
	
	\subsection{Specialtecken och symboler}
	\subsubsection{Citattecken}
	\subsubsection{Streck av olika längd}
	
	\subsection{Svenska och andra ''internationella'' språk}
	\subsubsection{Unicode}
	\subsubsection{Språkpaketet \pack{babel}}
	\subsubsection{Skarpare tecken: \pack{fontenc} och \pack{lmodern}}
	
	\subsection{Avstånd}
	\subsubsection{Mellan ord}
	\subsubsection{Mellan stycken}
	
	\subsection{Rubriker}
	\subsubsection{Metadata}
	\subsubsection{Dokumentets små delar}
	
	\subsection{Andra viktiga kommandon}
	\subsubsection{Fotnoter}
	\subsubsection{Kursivt och fetstilt}
	\subsubsection{Etiketter}
	
	\subsection{Miljöer \eng{environments}}
	\subsubsection{Listor av alla slag}
	\subsubsection{Citat}
	\subsubsection{Sammanfattningar}
	
	\subsection{Flytande objekt}
	\subsubsection{Figurer}
	\subsubsection{Tabeller}
	\subsubsection{Varför ska \LaTeX{} bestämma var min figur ligger?}
	%% (end)
	
	%% MATEMATIK MED LATEX OCH AMS (fold)
	\section{Matematik med \LaTeX{} och \AmS}\label{sec:3}
	
	\subsection{\AmS-\LaTeX}
	
	\subsection{Att visa ekvationer}
	\subsubsection{Ekvationer i löpande text}
	\subsubsection{Ekvationer som ekvationer}
	
	\subsection{En snabbkurs i \LaTeX-matematik}
	
	\subsection{Ekvationsmiljöer}
	\subsubsection{Långa ekvationer med \env{multline}}
	\subsubsection{Ekvationsutvecklingar: \env{aligned}}
	\subsubsection{Matriser (\env{\{p,b\}matrix})}
	\subsubsection{Olika fall med \env{cases}}
	% fler??
	
	\subsection{Avstånd}
	\subsubsection{Fantomer}
	
	\subsection{Symboler och funktioner}
	% detexify!
	
	\subsection{Enheter med \pack{siunitx}}
	%% (end)
	
	%% GRAFIK MED LATEX (fold)
	\section{Grafik med \LaTeX}\label{sec:4}
	Många dokument kräver att man inkluderar figurer för att presentera
	resultat eller förtydliga resonemang. Dessa typsätts i \LaTeX{} med hjälp
	av flytande objekt, vilket diskuteras i del~\ref{sec:2}, men i dessa
	flytande objekt måste man även importera eller generera sin grafik.
	
	\LaTeX{} ger genom diverse paket många möjligheter att göra detta. Med den
	klassiska \LaTeX{}-motorn, som genererar \DVI-filer, kunde man importera
	\EPS-filer eller rita direkt med \textsc{PostScript}-kommandon, men
	eftersom man i dagsläget oftast använder (och bör använda) \pdfLaTeX{}
	måste man använda något annorlunda metoder. Denna del förklarar två av
	dessa: \pack{graphicx} och \PGFTikZ.
	
	\subsection{Inkludera grafik med \pack{graphicx}}
	Det enklaste sättet att inkludera grafik är att skapa sina figurer i ett
	externt program (det kan till exempel vara fördelaktigt att exportera sina
	figurer direkt från den programvara man använder) och sedan importera
	dessa till \LaTeX{}-dokumentet. Detta gör man med paketet \pack{graphicx}.
	
	Proceduren är enkel:
	\begin{enumerate}
		\item Skapa figuren i ett externt program och spara i rätt format
		
		\item Inkludera \pack{graphicx}-paketet genom att skriva
		\mint{latex}|\usepackage{graphicx}|
		i inledningen till dokumentet.
		
		\item Inkludera grafiken i en \env{figure}-miljö med hjälp av
		\cmd{includegraphics}:
		\mint{latex}|\includegraphics[<alternativ>]{<filnamn>}|
		
		Alternativen här kan vara många. Oftast vill man ställa in bredden på
		sin bild så att den passar sidan, och detta kan man göra genom att
		specificera alternativet \cli{width} och sätta det till
		\cmd{textwidth}:
		\mint{latex}|\includegraphics[width=\textwidth]{<filnamn>}|
		
		Andra alternativ som kan användas är \cli{height}, \cli{angle}
		och \cli{trim}\footnote{Man bör då inte heller glömma att sätta
		\cli{clip=true}.\hfil}. En komplett beskrivning av paketet och de 
		alternativ som finns att tillgå finns i dokumentationen på
		CTAN\footnote{\url{http://www.ctan.org/archive/macros/latex/required/graphics/grfguide.pdf}}.
	\end{enumerate}
	
	Säg att man till exempel vill inkludera filen \cli{interpolation.png}
	i sitt dokument för att illustrera konceptet interpolation. Man bestämmer
	sig dock för att figuren bara ska ta upp 25\,\% av textbredden, eftersom
	figuren bli för stor annars. Man använder då alternativet \cli{width}
	enligt figur~\vref{fig:graphicx} för att specificera detta.
	
	\begin{figure}[p]
		\begin{minipage}{0.475\textwidth} % kod
				\vfil\inputminted[frame=single,firstline=10,lastline=17,gobble=2]{latex}{ex/4/graphicx.tex}\vfil
		\end{minipage}
		\hfil
		\begin{minipage}{0.475\textwidth} % figur
			\fbox{\includegraphics[width=\textwidth,clip=true,trim=80 0 80 0]{ex/4/graphicx.pdf}}
		\end{minipage}
		\caption{Koden till vänster inkluderar filen \cli{interpolation.png} i
		\LaTeX-dokumentet och ger det resultat som ses till höger.}
		\label{fig:graphicx}
	\end{figure}
	
	\subsubsection{Rätt format?}
	En nackdel med \pdfLaTeX{} när det gäller \pack{graphicx} är att det inte
	finns särskilt många bildformat som fungerar (dock fler än för gamla
	\LaTeX{}, som bara accepterade \EPS). De enda format som kan inkluderas
	med \pack{graphicx} när man använder \pdfLaTeX{} är \textsc{PNG},
	\textsc{JPEG} och \PDF. Oftast vill man använda \PDF{} för figurer,
	eftersom
	det är det enda vektorbaserade formatet som fungerar, medan man för
	fotografier och dylikt använder \textsc{JPEG}. \textsc{PNG} kan man
	använda då man egentligen bör använda \PDF{} men detta inte är möjligt.
	
	Eftersom många verktyg och programvaror fortfarande sparar filer i
	\EPS-format kan det vara praktiskt att kunna konvertera dessa till ett
	format som fungerar. Detta kan göras med verktyget \cli{epstopdf}, som
	finns tillgängligt på CTAN.
	
	\subsection{Rita med \PGFTikZ}
	Ett lite mer komplicerat sätt att inkludera grafik (men ofta 
	föredelaktigt, eftersom allt innehåll stannar i \TeX-filen) är att använda
	\PGFTikZ, ett paket skrivet för att användas med \pdfLaTeX{} för att rita
	figurer i \LaTeX{}. Med det kan man direkt i sitt \LaTeX-dokument skapa
	enklare figurer som flödesscheman, träd, grafer eller liknande; se exempel
	i figur~\vref{fig:tikz}. Även mer avancerade figurer är möjliga, men att
	förklara hela \PGFTikZ{} tar allt för lång tid för denna introduktion. Den
	intresserade läsaren hänvisas istället till \citeasnoun{Mertz07} som har
	en bra introduktion till ämnet, och \PGFTikZ-manualen \cite{Tantau10} som
	utförligt beskriver hur paketet fungerar.
	
	\begin{figure}[p]
		\centering
		\begin{minipage}{0.95\textwidth} % kod
			\vfil
			\begin{minted}[frame=single]{latex}
\newcounter{d}\setcounter{d}{0}\def\mcolor{SpringGreen}
\begin{tikzpicture}
    \path[coordinate] (0,0) coordinate(A) ++( 60:6cm)
                      coordinate(B) ++(-60:6cm) coordinate(C);
    \draw[fill=Black!\thed!\mcolor] (A) -- (B) -- (C) -- cycle;
    \foreach \x in {1,...,15}{%
        \pgfmathsetcounter{d}{\thed+10}
        \setcounter{d}{\thed}
        \path[coordinate] coordinate(X) at (A){};
        \path[coordinate] (A) -- (B) coordinate[pos=.15](A)
                            -- (C) coordinate[pos=.15](B)
                            -- (X) coordinate[pos=.15](C);
        \draw[fill=Black!\thed!\mcolor]
				(A)--(B)--(C)--cycle;
    }
\end{tikzpicture}
			\end{minted}
			\vfil
		\end{minipage}
		\\[1ex]
		\begin{minipage}{0.95\textwidth} % figur
			\centering
			\newcounter{density}\setcounter{density}{0}
			\begin{minipage}{0.475\textwidth}
			\fbox{\begin{tikzpicture}
			    \path[coordinate] (0,0)  coordinate(A)
			                ++( 60:6cm) coordinate(B)
			                ++(-60:6cm) coordinate(C);
			    \draw[fill=Black!\thedensity!SpringGreen]
							(A) -- (B) -- (C) -- cycle;
			    \foreach \x in {1,...,15}{%
			        \pgfmathsetcounter{density}{\thedensity+10}
			        \setcounter{density}{\thedensity}
			        \path[coordinate] coordinate(X) at (A){};
			        \path[coordinate] (A) -- (B) coordinate[pos=.15](A)
			                            -- (C) coordinate[pos=.15](B)
			                            -- (X) coordinate[pos=.15](C);
			        \draw[fill=Black!\thedensity!SpringGreen]
							(A)--(B)--(C)--cycle;
			    }
			\end{tikzpicture}}
			\end{minipage}\hfil
			\begin{minipage}{0.475\textwidth}
			\caption[Koden ovan tolkas av \PGFTikZ{} och resulterar i den
			itererade triangeln till vänster]{
			Koden ovan tolkas av \PGFTikZ{} och resulterar i den
			itererade triangeln till vänster.
			Fler exempel finns i
			\citeasnoun{Mertz07} och \citeasnoun{Tantau10}. Tack till Alain 
			Matthes för originalkoden\footnote{\url{http://www.texample.net/tikz/examples/rotated-triangle/}}.}
			\label{fig:tikz}
			\end{minipage}
		\end{minipage}
	\end{figure}
	
	%% (end)
	
	%% REFERENSER MED BIBTEX (fold)
	\section{Referenser med \BibTeX}\label{sec:5}
	%% (end)
	
	%% VIDARE LÄSNING (fold)
	\section{Vidare läsning}\label{sec:6}
	
	\subsection{Andra resurser}
	\subsubsection{Böcker och artiklar}
	\subsubsection{Hjälp med specifika problem}
	% TeX.SE!
	
	\subsection{Rekommenderade paket}
	
	\subsection{Tips för stora projekt}
	
	\subsection{Andra \TeX-baserade projekt}
	\subsubsection{Unicode-baserade \XeTeX}
	\subsubsection{Skripta med \hologo{LuaTeX}}
	%% (end)
	
	\let\oldurl=\url\renewcommand\url[1]{\newline{\small\oldurl{#1}}}
	\bibliography{referenser}
	
	\appendix
	%% EN ENKEL MALL (fold)
	\section{En enkel mall}
	
	%% (end)
\end{document}